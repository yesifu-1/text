# 处理步骤
## 1:使用LLM，使用相关提示，结合LLM生成的SQL语句，从 SQLite数据库 的具体表中筛选问题相关的列名。
## 2:把第1步的处理结果(列名)和初始表格，问题，一起喂给大模型，得到筛选行的SQL语句，结合数据库的表得到 与问题相关 的子表数据。
## 3:把第2步的子表结合初始问题和初始表格，得到最终答案。



## 使用sql查询相关问题

### 问题1：因为表名包含特殊字符和空格，SQLite解析器无法识别这种格式的标识符，需要用反引号或方括号包围表名
results =cursor.execute("SELECT * FROM 43_Richard Thompson (sprinter) LIMIT 10")
需要修改成
results = cursor.execute("SELECT * FROM `43_Richard Thompson (sprinter)` LIMIT 10")这种形式
[已解决，本项目不一定会用到外部数据库]

# 问题2 ：对于演示的shot，每处理一张表时纪要重新在prompt里演示一遍？还是从头到尾只需要演示一遍？
[已解决，为了保证问答质量，每一次演示]


三个数据集：WikiTableQuestion, FetaQA, TabFact

## 2025——07——07=========================================
### 问题1:
对于一个如下问题
statement: What singles were Included in Across the Rio Grande in 1988?
可能是prompt的问题(不确定)，在推理过程正确的情况下， Evidence没有包含所有的内容 本应该是f_col([Single,year,Album]): f_col([Single])


## 2025——07——08=========================================
### 目标: 
完成第二部分，text_col部分的处理，并测试效果。

##
2025--07--10===========================================
### 开始写第三部分row——sql，[已完成]2025--07--11===========================================
2025--07--12===========================================
单process测试版已完成，开始写多process版本
修改:把初始化generator的操作放在 worker_annotate的定义里面，而不是在main里面进行初始化

2025--07--16===========================================
muilti_process遇到问题:col_text部分没有生成 evidence,导致下一步得正则部分没有可以提取的str

2025--07--18===========================================
排错完成 由于n_parallel_prompts数量设置问题导致问答没有正确进行

